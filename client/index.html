<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE HILL - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        :root {
            --color-primary: #000000;
            --color-secondary: #333333;
            --color-red: #b80d0d; 
            --color-text-light: #ffffff;
            --color-background: #f8f8f8;
            --font-main: 'Arial', sans-serif;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--color-background);
            margin: 0;
            padding: 0;
            color: var(--color-primary);
        }

        /* --- THANH ĐIỀU HƯỚNG CỐ ĐỊNH --- */
        .nav-group-wrapper {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            transition: transform 0.3s ease-in-out; 
            transform: translateY(0);
        }
        .nav-group-wrapper.hidden {
            transform: translateY(-100%); 
        }

        /* --- Thanh 1: Top Bar (Giữ nguyên) --- */
        .top-bar { 
            background-color: var(--color-primary); 
            color: var(--color-text-light); 
            font-size: 0.75rem; 
            display: flex; 
            justify-content: space-between; 
            padding: 8px 40px; 
            text-transform: uppercase; 
        }
        .top-bar-left a, .top-bar-right a { color: var(--color-text-light); text-decoration: none; margin-right: 30px; font-weight: 500; transition: color 0.3s ease; }
        .top-bar-right { display: flex; align-items: center; }

        /* --- Thanh 2: Main Navbar (FIX LỖI CĂN GIỮA VÀ KHOẢNG CÁCH MENU) --- */
        .main-navbar {
            display: flex;
            justify-content: space-between; 
            align-items: center;
            padding: 20px 40px; /* Tinh chỉnh padding dọc */
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            position: relative;
        }
        .logo-main {
            /* THAY ĐỔI: Sử dụng margin-left: auto/margin-right: auto để căn giữa */
            font-size: 1.8rem; 
            font-weight: 900;
            letter-spacing: 2px;
            color: var(--color-primary); 
            text-transform: uppercase;
            text-decoration: none;
            z-index: 10;
            cursor: pointer;
            margin-left: auto; 
            margin-right: auto; 
        }
        .main-menu {
            display: flex;
            align-items: center;
            flex-shrink: 0; 
            gap: 25px; /* Tăng khoảng cách giữa các mục menu */
            padding-right: 20px; /* Đảm bảo Menu không quá sát Logo */
        }
        .main-menu a {
            text-decoration: none;
            color: var(--color-primary);
            font-weight: 400; /* Font mềm hơn */
            font-size: 0.85rem; 
            text-transform: uppercase;
            white-space: nowrap; /* NGĂN CHỮ BỊ XUỐNG DÒNG */
            transition: color 0.3s ease;
        }
        
        /* CĂN CHỈNH ICONS */
        .nav-icons {
            display: flex;
            align-items: center;
            color: var(--color-primary);
            flex-shrink: 0;
            z-index: 10;
            margin-left: auto; 
            gap: 20px; 
        }
        .nav-icons i { font-size: 1.2rem; cursor: pointer; transition: color 0.3s ease; }
        .nav-icons .cart-count { background-color: var(--color-primary); color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.7rem; font-weight: 700; position: absolute; top: -10px; right: -10px; }
        .nav-icons .cart-icon { position: relative; }


        /* --- Thanh 3: Sub-Menu (Sửa lỗi Dính chữ và Khoảng cách) --- */
        .sub-menu-bar {
            background-color: #ffffff;
            display: flex;
            justify-content: flex-start; 
            align-items: center;
            padding: 8px 40px; 
            border-bottom: 1px solid #e0e0e0; 
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02);
            font-size: 0.8rem; 
            gap: 20px; 
        }
        .sub-menu-bar a {
            text-decoration: none;
            color: var(--color-secondary); 
            font-weight: 400; 
            transition: color 0.3s ease;
            white-space: nowrap; 
        }
        .online-exclusive {
            color: var(--color-red); 
            font-weight: 600; 
            margin-right: 25px;
            text-transform: uppercase;
            animation: shake 0.8s ease-in-out infinite alternate, color-flash 1.5s ease-in-out infinite alternate;
            display: inline-block; 
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.3); 
        }

        /* --- Bố cục chung và Khu vực Brand (FIX KHOẢNG CÁCH) --- */
        .content-buffer { height: 120px; width: 100%; } 
        .slider-container { width: 100%; height: 450px; overflow: hidden; position: relative; background-color: #ffffff; margin-bottom: 30px; }
        .slider-wrapper { display: flex; height: 100%; transition: transform 0.8s ease-in-out; }
        .slide { min-width: 100%; height: 100%; background-size: cover; background-repeat: no-repeat; background-color: #ffffff; background-position: center; position: relative; }
        
        .video-section { padding-top: 30px; padding-bottom: 20px; max-width: 1200px; margin: 0 auto; }
        .video-wrapper { position: relative; width: 100%; padding-top: 56.25%; height: 0; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); border-radius: 10px; overflow: hidden; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        .brand-section { padding: 20px 40px; margin-bottom: 30px; max-width: 1200px; margin: 0 auto; text-align: center; }
        .brand-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin-top: 15px; }
        .brand-logo { font-size: 1rem; font-weight: 600; color: var(--color-primary); margin-bottom: 3px; text-transform: uppercase; }
        .brand-tagline { font-size: 0.75rem; color: var(--color-secondary); text-transform: uppercase; }
        .collection-showcase-section { padding: 40px 40px 30px 40px; max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; gap: 40px; }
        .collection-info { flex: 0 0 300px; text-align: left; padding-top: 0; }
        .collection-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; color: var(--color-primary); }
        .collection-description { font-size: 0.95rem; color: var(--color-secondary); line-height: 1.6; margin-bottom: 20px; }
        .btn-view-details { background-color: var(--color-primary); color: white; padding: 12px 25px; border: none; border-radius: 5px; font-weight: 600; text-transform: uppercase; transition: background-color 0.3s ease; cursor: pointer; }
        .collection-grid { flex-grow: 1; display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; }
        .grid-item { position: relative; height: 400px; background-size: cover; background-position: center; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: transform 0.3s ease; cursor: pointer; }
        .grid-item-label { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); background-color: rgba(255, 255, 255, 0.9); color: var(--color-primary); padding: 5px 15px; border-radius: 4px; font-size: 0.85rem; font-weight: 600; text-transform: uppercase; }
        .product-carousel-section { padding: 30px 0 40px 0; max-width: 1200px; margin: 0 auto; position: relative; }
        .horizontal-carousel-wrapper { position: relative; margin: 0 40px; }
        .horizontal-carousel { display: flex; overflow-x: scroll; scroll-snap-type: x mandatory; gap: 15px; padding: 10px 0; -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none; scroll-behavior: smooth; }
        .product-style-card { min-width: 280px; height: 450px; scroll-snap-align: start; position: relative; background-size: cover; background-position: center; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease; cursor: pointer; }
        .card-label { position: absolute; bottom: 0; left: 0; background-color: rgba(0, 0, 0, 0.7); color: white; padding: 8px 12px; font-size: 0.85rem; text-transform: uppercase; font-weight: 600; }
        .carousel-nav-btn { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(0, 0, 0, 0.1); color: #333; width: 30px; height: 30px; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; font-size: 1rem; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); transition: background-color 0.3s ease, color 0.3s ease; z-index: 50; }
        #navPrev { left: -15px; } #navNext { right: -15px; }

        .main-content { padding: 40px; max-width: 1200px; margin: 0 auto; }
        @keyframes shake { 0% { transform: translateX(0) rotate(0deg); } 25% { transform: translateX(-5px) rotate(-2deg); } 50% { transform: translateX(5px) rotate(2deg); } 75% { transform: translateX(-4px) rotate(-1.5deg); } 100% { transform: translateX(4px) rotate(1.5deg); } }
        @keyframes color-flash { 0% { color: var(--color-red); } 50% { color: var(--color-primary); } 100% { color: var(--color-red); } }
    </style>
</head>
<body>

    <header class="nav-group-wrapper">
        <div class="top-bar">
            <div class="top-bar-left">
                <a href="#">CONNECT PHONE</a>
                <a href="#">SHOP NOW</a>
            </div>
            <div class="top-bar-right">
                <a href="#"><i class="fas fa-map-marker-alt"></i> FIND STORE</a>
                <a href="#">SUPPORT</a>
            </div>
        </div>

        <nav class="main-navbar">
            <div class="main-menu">
                <a href="#">CLOTHING</a>
                <a href="#">ACCESSORIES</a>
                <a href="#">LEATHER GOODS</a>
                <a href="#">BRAND</a>
                <a href="#">USA ACTIVEWEAR</a>
            </div>

            <a href="index.html" class="logo-main">THE HILL</a>
            
            <div class="nav-icons" id="authIcons">
                </div>
        </nav>

        <div class="sub-menu-bar">
            <span class="online-exclusive">Online Exclusive</span>
            <a href="#">Collection</a>
            <a href="#">New Arrivals</a>
            <a href="#">Shirts</a>
            <a href="#">Pants</a>
            <a href="#">Suits</a>
            <a href="#">Sets</a>
            <a href="#">Underwear</a>
            <a href="#">Accessories</a>
        </div>
    </header>
    
    <div class="content-buffer"></div> 

    <div class="slider-container">
        <div class="slider-wrapper" id="sliderWrapper">
            <div class="slide" data-index="0" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/web_-_pc.jpg');"></div>
            <div class="slide" data-index="1" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/desktop__2_.jpg');"></div>
            <div class="slide" data-index="2" style="background-image: url('https://file.hstatic.net/200000887901/file/cover-trang_c3df8e1479a9442bbcd2672df76698a5.jpg');"></div>
        </div>
    </div>

    <div class="brand-section">
        <div class="brand-grid">
            <div class="brand-item">
                <div class="brand-logo">THE HILL</div>
                <div class="brand-tagline">UNIFORM</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">THE HILL</div>
                <div class="brand-tagline">BUSINESS</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">THE HILL</div>
                <div class="brand-tagline">PREMIUM</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo" style="color: #007aff;">THE HILL</div>
                <div class="brand-tagline" style="color: #007aff;">HANDMADE</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo" style="color: #008000;">THE HILL</div>
                <div class="brand-tagline" style="color: #008000;">GOLF</div>
            </div>
        </div>
    </div>

    <div class="collection-showcase-section">
        <div class="collection-info">
            <h3 class="collection-title">
                <i class="fas fa-gem"></i> WINTER COLLECTION
            </h3>
            <p class="collection-description">
                Continuing the journey - A grand ode to the modern gentleman's journey, saying no to pressure and conventional wisdom, paving the way for endless discovery and creativity.
            </p>
            <button class="btn-view-details">VIEW DETAILS</button>
        </div>

        <div class="collection-grid">
            <div class="grid-item" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/7_96bea6eb72154b4c9bdd8d7b561c29e2.jpg');">
                <span class="grid-item-label">LEATHER</span>
            </div>
            <div class="grid-item" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/5_b4d25e4b780d4e42a822965f00b53d98.jpg');">
                <span class="grid-item-label">POLO</span>
            </div>
            <div class="grid-item" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/4_b9341ed59abb45ab92cd832fbb984c28.jpg');">
                <span class="grid-item-label">PANTS</span>
            </div>
            <div class="grid-item" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/7_96bea6eb72154b4c9bdd8d7b561c29e2.jpg');">
                <span class="grid-item-label">SHIRT</span>
            </div>
        </div>
    </div>


    <div class="video-section">
        <div class="video-wrapper">
            <iframe 
                src="https://www.youtube.com/embed/06wZsa-55UE?autoplay=1&loop=1&playlist=06wZsa-55UE&mute=1&controls=1" 
                allow="autoplay; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
    </div>
    
    <div class="product-carousel-section">
        
        <div class="horizontal-carousel-wrapper">
            <div class="horizontal-carousel" id="horizontalCarousel">
                <div class="product-style-card" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/1_937be7925ca845f69bf108a39a54dc7c.jpg');">
                    <span class="card-label">BUSINESS</span>
                </div>
                <div class="product-style-card" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/3_2550aa50d3384f81bf29924cf85062e5.jpg');">
                    <span class="card-label">SMART CASUAL</span>
                </div>
                <div class="product-style-card" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/2_f5b3540708ac43b5912cbe247022af08.jpg');">
                    <span class="card-label">DAILY LOOK</span>
                </div>
                <div class="product-style-card" style="background-image: url('https://cdn.hstatic.net/files/200000887901/file/bst-new.jpg');">
                    <span class="card-label">NEW ARRIVALS</span>
                </div>
            </div>
            
            <div class="carousel-nav-btn" id="navPrev"><i class="fas fa-chevron-left"></i></div>
            <div class="carousel-nav-btn" id="navNext"><i class="fas fa-chevron-right"></i></div>
        </div>
    </div>


    <div class="main-content">
        <h1 style="color: var(--color-secondary);">SHOP BY CATEGORY</h1>
        <p style="color: var(--color-secondary);">Browse our latest collection.</p>
    </div>
    
    <script>
        const AUTH_TOKEN_KEY = 'authToken'; 

        function checkAuthStatus() {
            return localStorage.getItem(AUTH_TOKEN_KEY);
        }

        function handleLogout() {
            if (confirm("Are you sure you want to log out?")) {
                localStorage.removeItem(AUTH_TOKEN_KEY);
                // Sau khi Logout, ta gọi updateAuthUI để làm mới icons và chuyển hướng
                window.location.href = 'index.html'; 
            }
        }

        function updateAuthUI() {
            const authIconsContainer = document.getElementById('authIcons');
            authIconsContainer.innerHTML = ''; // Xóa nội dung cũ

            // 1. Icon Search (Giữ nguyên)
            const searchIcon = document.createElement('i');
            searchIcon.classList.add('fas', 'fa-search');
            authIconsContainer.appendChild(searchIcon);

            // 2. Icon User/Logout
            const authWrapper = document.createElement('div');
            authWrapper.classList.add('auth-icon-wrapper');

            if (checkAuthStatus()) {
                // Đã đăng nhập: Icon Đăng xuất (fa-sign-out-alt)
                const logoutIcon = document.createElement('i');
                logoutIcon.classList.add('fas', 'fa-sign-out-alt');
                logoutIcon.onclick = handleLogout;
                authWrapper.appendChild(logoutIcon);

            } else {
                // Chưa đăng nhập: Icon Đăng nhập (fa-user)
                const loginLink = document.createElement('a');
                loginLink.href = 'login.html';
                loginLink.innerHTML = '<i class="fas fa-user"></i>';
                authWrapper.appendChild(loginLink);
            }
            authIconsContainer.appendChild(authWrapper);

            // 3. Icon Giỏ hàng (cart)
            const cartIcon = document.createElement('div');
            cartIcon.classList.add('cart-icon');
            cartIcon.innerHTML = '<i class="fas fa-shopping-bag"></i><span class="cart-count">0</span>';
            authIconsContainer.appendChild(cartIcon);
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateAuthUI(); // Chạy khi tải trang

            // --- Logic Smart Sticky Header ---
            const header = document.querySelector('.nav-group-wrapper');
            let lastScrollY = window.pageYOffset;
            
            window.addEventListener('scroll', () => {
                const currentScrollY = window.pageYOffset;

                if (currentScrollY > 10) { 
                    if (currentScrollY < lastScrollY) {
                        // Cuộn LÊN (Hiển thị Header)
                        header.classList.remove('hidden');
                    } else {
                        // Cuộn XUỐNG (Ẩn Header)
                        header.classList.add('hidden');
                    }
                } else {
                    // Luôn hiển thị khi ở trên cùng
                    header.classList.remove('hidden');
                }

                lastScrollY = currentScrollY;
            });


            // --- Logic Slider Ảnh Lớn (Auto-Scroll Vô Tận) ---
            const sliderWrapper = document.getElementById('sliderWrapper');
            const totalSlides = 3; 
            let currentSlideIndex = 0;
            let isTransitioning = false;
            const transitionDuration = 800; 
            const intervalDuration = 4000; 

            // Nhân bản Slide đầu tiên và đặt ở cuối (cho vòng lặp mượt)
            const slides = document.querySelectorAll('.slide');
            const firstSlideClone = slides[0].cloneNode(true);
            sliderWrapper.appendChild(firstSlideClone);

            function updateSlider() {
                const offset = -currentSlideIndex * 100;
                sliderWrapper.style.transition = `transform ${transitionDuration / 1000}s ease-in-out`;
                sliderWrapper.style.transform = `translateX(${offset}%)`;

                setTimeout(() => {
                    if (currentSlideIndex === totalSlides) {
                        sliderWrapper.style.transition = 'none'; 
                        currentSlideIndex = 0;
                        sliderWrapper.style.transform = `translateX(0)`;
                    }
                    isTransitioning = false;
                }, 800); 
            }

            function nextSlide() {
                if (isTransitioning) return;
                isTransitioning = true;
                currentSlideIndex++;
                updateSlider();
            }

            setInterval(nextSlide, intervalDuration); 
            updateSlider();


            // --- Logic Carousel Kéo Ngang (Nút bấm) ---
            const carousel = document.getElementById('horizontalCarousel');
            const navPrev = document.getElementById('navPrev');
            const navNext = document.getElementById('navNext');
            const cardWidth = 280 + 15; // Chiều rộng thẻ (280px) + gap (15px)

            const originalCards = carousel.querySelectorAll('.product-style-card');
            const originalCardCount = originalCards.length;

            // Nhân bản các thẻ cần thiết để tạo cảm giác vô tận khi cuộn
            for (let i = 0; i < originalCardCount; i++) {
                carousel.appendChild(originalCards[i].cloneNode(true));
            }

            // Hàm cuộn theo thẻ
            const scrollCard = (direction) => {
                const targetScroll = carousel.scrollLeft + (direction * cardWidth);
                
                carousel.scrollTo({
                    left: targetScroll,
                    behavior: 'smooth'
                });
            };

            // Gắn sự kiện CLICK cho nút
            navNext.addEventListener('click', () => scrollCard(1));
            navPrev.addEventListener('click', () => scrollCard(-1));
            

            // Gắn sự kiện để reset vị trí cuộn vô tận
            carousel.addEventListener('scroll', function() {
                const scrollLeft = carousel.scrollLeft;
                const scrollWidth = carousel.scrollWidth;
                const clientWidth = carousel.clientWidth;
                
                // Vị trí cuối của slide gốc
                const resetPosition = originalCardCount * cardWidth;
                
                // Kiểm tra nếu cuộn vào vùng bản sao
                if (scrollLeft >= resetPosition) {
                    carousel.scrollLeft = 1; // Nhảy về vị trí 1px (bắt đầu của slide gốc)
                } 
            });
        });
    </script>
</body>
</html>